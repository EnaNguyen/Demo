<div class="min-h-screen bg-gradient-to-br from-blue-400 via-blue-500 to-cyan-500 flex items-center justify-center p-4">
  <div class="w-full max-w-6xl bg-white rounded-3xl shadow-2xl overflow-hidden">
    <div class="flex flex-col lg:flex-row min-h-[680px]">
      <div class="lg:w-[45%] xl:w-2/5 bg-gradient-to-br from-blue-600 to-cyan-500 text-white p-10 lg:p-12 xl:p-16 flex flex-col justify-center items-center text-center min-h-[680px]">
        <div class="max-w-sm mx-auto space-y-8">
          <div class="h-20 w-20 bg-white/20 backdrop-blur-md rounded-2xl flex items-center justify-center mx-auto">
            <mat-icon class="text-4xl">hotel</mat-icon>
          </div>

          <div class="fadeInUp">
            <h1 class="text-4xl lg:text-5xl font-bold">
              {{ isLogin ? "Chào mừng quay lại!" : "Tạo tài khoản mới" }}
            </h1>
          </div>

          <div class="fadeInUp delay-150 text-base">
            <p class="text-blue-100 text-lg leading-relaxed">
              {{ isLogin
                ? "Đăng nhập để tiếp tục quản lý đặt phòng của bạn"
                : "Tham gia HotelHub – nơi tìm trọ nhanh chóng và tin cậy" }}
            </p>
          </div>
        </div>
      </div>
      <div class="flex-1 bg-white p-8 lg:p-10 xl:p-16 flex flex-col justify-center min-h-[680px] relative overflow-hidden">
        <div class="max-w-md mx-auto w-full h-[620px] relative">
          <!-- OTP Form -->
          <div *ngIf="show2FA" class="slideInForm absolute inset-0 w-full">
            <h2 class="text-3xl font-bold text-gray-900 mb-8">Xác Thực 2FA</h2>
            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6">
              <p class="text-blue-700">Mã OTP đã được gửi đến email của bạn</p>
            </div>
            <div class="space-y-6">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Nhập Mã OTP</label>
                <input
                  [(ngModel)]="otp"
                  type="text"
                  placeholder="Nhập 6 chữ số OTP"
                  class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition text-center text-lg tracking-widest"
                />
              </div>

              <button
                (click)="verifyOTP()"
                [disabled]="!otp.trim()"
                type="button"
                class="w-full bg-gradient-to-r from-blue-600 to-cyan-500 text-white font-bold py-3 rounded-lg hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed"
              >
                Xác Thực OTP
              </button>

              <div class="text-center pt-4 border-t border-gray-200">
                <button
                  (click)="resendOTP()"
                  type="button"
                  class="text-blue-600 font-semibold hover:underline text-sm"
                >
                  Gửi lại mã OTP
                </button>
              </div>
            </div>
          </div>

          <!-- Login Form -->
          <div *ngIf="isLogin && !show2FA" class="slideInForm absolute inset-0 w-full">
            <h2 class="text-3xl font-bold text-gray-900 mb-8">Đăng Nhập</h2>
            <form [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()" class="space-y-6">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Username</label>
                <input
                  formControlName="username"
                  type="text"
                  placeholder="Enter Your Username/ Email"
                  class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition"
                />
                <small class="text-red-500" *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched">
                  Username không hợp lệ
                </small>
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Mật khẩu</label>
                <input
                  formControlName="password"
                  type="password"
                  placeholder="••••••••"
                  class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition"
                />
                <small class="text-red-500" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
                  Mật khẩu phải có ít nhất 6 ký tự
                </small>
              </div>

              <button
                type="submit"
                [disabled]="loginForm.invalid"
                class="w-full bg-gradient-to-r from-blue-600 to-cyan-500 text-white font-bold py-3 rounded-lg hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed"
              >
                Đăng Nhập
              </button>

              <p class="text-center text-gray-600 text-sm">
                Chưa có tài khoản?
                <button
                  type="button"
                  (click)="toggleMode()"
                  class="text-blue-600 font-bold hover:underline"
                >
                  Tạo tài khoản
                </button>
              </p>
            </form>
          </div>

          <!-- Register Form -->
          <div *ngIf="!isLogin && !show2FA" class="slideInForm absolute inset-0 w-full">
            <h2 class="text-3xl font-bold text-gray-900 mb-8">Tạo Tài Khoản</h2>
            <form [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()" class="space-y-6">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Họ và Tên</label>
                <input
                  formControlName="fullName"
                  type="text"
                  placeholder="Nguyễn Văn A"
                  class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition"
                />
                <small class="text-red-500" *ngIf="registerForm.get('fullName')?.invalid && registerForm.get('fullName')?.touched">
                  Tên phải có ít nhất 2 ký tự
                </small>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Username</label>
                <input
                  formControlName="username"
                  type="text"
                  placeholder="Enter Your Username"
                  class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition"
                />
                <small class="text-red-500" *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">
                  Username không hợp lệ
                </small>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                <input
                  formControlName="email"
                  type="email"
                  placeholder="example@email.com"
                  class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition"
                />
                <small class="text-red-500" *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
                  Email không hợp lệ
                </small>
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Mật khẩu</label>
                <input
                  formControlName="password"
                  type="password"
                  placeholder="••••••••"
                  class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition"
                />
                <small class="text-red-500" *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
                  Mật khẩu phải có ít nhất 6 ký tự
                </small>
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Xác nhận Mật khẩu</label>
                <input
                  formControlName="confirmPassword"
                  type="password"
                  placeholder="••••••••"
                  class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition"
                />
                <small class="text-red-500" *ngIf="registerForm.hasError('passwordMismatch') && registerForm.get('confirmPassword')?.touched">
                  Mật khẩu không khớp
                </small>
              </div>

              <button
                type="submit"
                [disabled]="registerForm.invalid"
                class="w-full bg-gradient-to-r from-blue-600 to-cyan-500 text-white font-bold py-3 rounded-lg hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed"
              >
                Tạo Tài Khoản
              </button>

              <p class="text-center text-gray-600 text-sm">
                Đã có tài khoản?
                <button
                  type="button"
                  (click)="toggleMode()"
                  class="text-blue-600 font-bold hover:underline"
                >
                  Đăng nhập
                </button>
              </p>
            </form>
          </div>
        </div>
      </div>
